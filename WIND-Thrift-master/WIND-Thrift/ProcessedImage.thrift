namespace cpp wind
namespace java org.wind
namespace csharp org.wind

include "Navigation.thrift"

/** ProcessedImage allows any processed image generated by an algorithm to be 
 *  to be transmitted. One algorithm may generate many different ProcessedImage data products and MUST  
 *  provide a ProcessedImageDefinition for each one. The type of image is specified by the ImageResultType enum 
 *  in the definition along with a text description. Current allowed types are an image with an overlay 
 *  (e.g., a frame from a forward-facing camera with additional information overlaid on top of it) and a map overlay.
 *
 *  The location at which the image was generated should be returned with each ProcessedImageResult. 
 *. In the case of ImageOverlay type, the location MUST be the location of the PTU when the image was captured. 
 *  In the case of MapOverlay type, the location MUST be the top left corner of the overlay. The ImageOverlay type 
 *  MUST additionally be returned with a horizontal and vertical FOV in degrees whereas the MapOverlay type MUST be 
 *  returned with a width and height in meters.
 */

/*
 * Included here for consistency with other data products, which also have placeholder configurations
 */
struct ProcessedImageConfiguration
{
  /** Placeholder for actual configuration */
  1: bool placeholder;
}

enum ImageResultType
{
  ImageOverlay = 0,
  MapOverlay = 1
  // Future image types may be added here
}

struct ProcessedImageDefinition
{
  1: optional string description;
  2: ImageResultType imageResultType;
}

struct ProcessedImageResult
{
  1: i64 timeStamp;
  4: binary image;
  5: Navigation.Location location;
  6: optional double width; // meters
  7: optional double height; // meters
  8: optional double horizontalFOV; // degrees
  9: optional double verticalFOV; // degrees

}

